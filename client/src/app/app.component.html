<div class="board">
  <div *ngFor="let row of board.squares.select() | async" class="row">
    <div *ngFor="let square of row.cols"
       class="square"
       [ngClass]="{'pending': square.pending, 'valid': square.valid}"
       cdkDrop 
       [cdkDropConnectedTo]="drops"
       [cdkDropData]="square"
       (cdkDropDropped)="dropped(square, $event)"
       [cdkDropEnterPredication]="canTileEnter(square)">
      <app-tile *ngIf="square.tile as tile" [tile]="tile"></app-tile>
    </div>
  </div>
</div>

<div
    class="tile-tray"
    cdkDrop
    cdkDropOrientation="horizontal"
    [cdkDropConnectedTo]="drops"
    (cdkDropDropped)="dropInTray($event)">
  <app-tile
      *ngFor="let tile of playerTiles"
      [tile]="tile"
      (click)="pickup(tile)"
      cdkDrag
      [cdkDragData]="tile"></app-tile>

</div>

<button mat-raised-button (click)="endTurn()">
  End turn
</button>

<button mat-raised-button (click)="game.reset()">
  Reset
</button>

Score: {{ board.score.select() | async }}
